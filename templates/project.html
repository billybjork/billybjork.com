{# templates/project.html #}

{% import "macros/_thumbnail_macros.html" as thumbnail_macros %}

<article class="project-item {% if is_open %}active{% endif %}" data-slug="{{ project.slug }}">
    <header class="project-header" 
            hx-get="/{{ project.slug }}" 
            hx-target="#details-{{ project.slug }}" 
            hx-trigger="click" 
            hx-swap="innerHTML"
            hx-push-url="true">
        <time class="project-date">{{ project.formatted_date }}</time>
        <h2 class="project-name">{{ project.name }}</h2>
    </header>

    {{ thumbnail_macros.render_thumbnail(project, data_animate=True) }}
    
    <article id="details-{{ project.slug }}" class="project-details">
        {% if is_open %}
            {% include "project_details.html" %}
        {% endif %}
    </article>
</article>